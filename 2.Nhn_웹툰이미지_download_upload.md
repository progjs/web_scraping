
### 1.네이버 웹툰 이미지 다운로드
* Referer라는 header 값에 url을 설정한다.
* 특정 image url을 list에 저장한다.
* requests 의 get() 함수로 image를 요청한다.
* response.content 라는 property를 사용한다.
* local file 로 저장한다.


```python
import requests
import os

req_header = {
    'referer': 'https://comic.naver.com/webtoon/detail.nhn?titleId=703852&no=106&weekday=tue'   
}
img_urls = [
    'https://image-comic.pstatic.net/webtoon/703852/106/20200615154416_3d82705810d8008189ec3997c499ef1a_IMAG01_5.jpg',
    'https://image-comic.pstatic.net/webtoon/703852/106/20200615154416_3d82705810d8008189ec3997c499ef1a_IMAG01_6.jpg',
    'https://image-comic.pstatic.net/webtoon/703852/106/20200615154416_3d82705810d8008189ec3997c499ef1a_IMAG01_53.jpg'
]

for img_url in img_urls:
    res = requests.get(img_url, headers=req_header) 
    # header를 안주면 어떤 url의 image인지 모르니까 안된다!

#     print(res.content) # binary data
#     print(res.ok) ## status_code가 200이상 400미만의 값인지 여부
    img_data = res.content
    file_name = os.path.basename(img_url) # 파일명만 추출
#     print(file_name)
    with open(file_name, 'wb') as file:
        print('Writing to {} ({} bytes)'.format(file_name, len(img_data)))
        file.write(img_data)
        
```

    Writing to 20200615154416_3d82705810d8008189ec3997c499ef1a_IMAG01_5.jpg (125982 bytes)
    Writing to 20200615154416_3d82705810d8008189ec3997c499ef1a_IMAG01_6.jpg (130097 bytes)
    Writing to 20200615154416_3d82705810d8008189ec3997c499ef1a_IMAG01_53.jpg (125071 bytes)
    

### 2. 웹툰 이미지 업로드
* http://httpbin.org/post 사이트에 다운받은 img 파일 3개를 업로드
* requests의 post() 함수를 사용하고 files 속성에 image data를 지정한다


```python
import requests

upload_files_dict = {
    'img1': open('f1.jpg', 'rb'),
    'img2': open('f2.jpg', 'rb'),
    'img3': open('f3.jpg', 'rb'),
}
# upload_files_dict # bufferedReader 라는 객체에 저장
url = 'http://httpbin.org/post'
res = requests.post(url, files=upload_files_dict)
res.status_code
```


    ---------------------------------------------------------------------------

    FileNotFoundError                         Traceback (most recent call last)

    <ipython-input-2-eb1a36cf0b5e> in <module>()
          2 
          3 upload_files_dict = {
    ----> 4     'img1': open('f1.jpg', 'rb'),
          5     'img2': open('f2.jpg', 'rb'),
          6     'img3': open('f3.jpg', 'rb'),
    

    FileNotFoundError: [Errno 2] No such file or directory: 'f1.jpg'



```python
img1 = res.json()['files']['img1']
# img1 # .html img tag에 src 속성에 추가하고 해당 .html 파일을 브라우저로 실행하면 imaga를 볼 수 있다.
```




```python

```
